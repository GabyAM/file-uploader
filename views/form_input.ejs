<% if(locals.type === 'password')  {%>
<%- include('password_input.ejs') %>
<% } else { %>
<div class="input-container <%= locals.error ? 'error' : '' %>">
  <input
    placeholder="<%- locals.label %>"
    type="<%- locals.type %>"
    name="<%- locals.name %>"
    id="<%- locals.name %>"
    value="<%= locals.value ? value : '' %>"
  />
  <% if(locals.error) { %>
  <%- include('error_label.ejs', {message: locals.error}) %>
  <% } %>
</div>
<% } %>
<script>
  (function () {
    const input = document.querySelector('#<%= locals.name %>');
    let inputParent = input.parentElement;
    //password inputs have an additional wrapper
    if ('<%=locals.type%>' === 'password') inputParent = inputParent.parentElement;
    input.addEventListener('focus', () => {
      if (inputParent.classList.contains('error')) {
        inputParent.classList.remove('error');
      }
      const errorLabel = inputParent.querySelector('.error-label');
      if (inputParent.contains(errorLabel)) {
        inputParent.removeChild(errorLabel);
      }
    });
  })();
</script>
